define("grade/grade",["zepto","flipsnap"],function(n,t,e){"use strict";function i(){this._init.apply(this,arguments)}var a=n("zepto"),s=n("flipsnap"),o="click";a.os.phone&&(o="tap"),i.prototype={_slide:function(){if(!(a("#J_slide").length<=0)){var n=window.innerWidth,t=a("#J_pointer span"),e=a("#J_slide .span-img-item");e.length<=1||(e.width(n),a("#J_slide").width(n*e.length),window.flipsnap=s("#J_slide",{distance:window.innerWidth,transitionDuration:100}),flipsnap.element.addEventListener("fstouchstart",function(n){},!1),flipsnap.element.addEventListener("fspointmove",function(){t.filter(".current").removeClass("current"),t.eq(flipsnap.currentPoint).addClass("current")},!1))}},_openFix:function(){var n=a("#J_fix");if(!(n.length<=0)){var t=a("#J_fixCon");n.on(o,function(){var e=n.parent(),i=a(this).find("b");e.hasClass("open")?(t.animate({height:0,opacity:0},"ease-in-out"),i.attr("style",""),e.removeClass("open")):(t.animate({height:".83rem",opacity:1},"ease-in-out",function(){}),i.attr("style","transform:rotate(-180deg)"),e.addClass("open"))})}},_init:function(){var n=this;n._slide(),n._openFix()}},e.exports=new i});