define("page/uattr",["zepto","d3","module/chart","module/slogan","module/base","../module/share"],function(a,t,e){"use strict";function r(a,t,e,r,n,i,s){var h=d();s=o.range(i).map(function(a){return{id:a,value:s[a]}}),h.width(t).height(t).colors(e).radius(r).innerRadius(n).data(s),h.render(a)}function n(){if(i(window).width()>768){if(270===m)return;i("#J_attrChart").html(""),m=270,r("#J_attrChart",270,c,135,60,b.length,b)}else{if(180===m)return;i("#J_attrChart").html(""),m=180,r("#J_attrChart",180,c,90,40,b.length,b)}}var i=a("zepto"),o=a("d3"),d=a("module/chart"),s=(a("module/slogan"),a("module/base"));if(i.os.phone||i.os.tablet){a("../module/share")}else{var h={shareBtn:i("#J_shareBtn"),sina:i("#J_sina")};h.shareBtn.attr("href",h.sina.attr("href"))}var l=window,u={game:"#229aef",exhibition:"#adb941",cos:"#cf424d",anime:"#6bc562",coterie:"#9541b7",online:"#00bdb4",novel:"#d56b48",rim:"#7362d6",daily:"#a4a4a4"};if(l.attrData){var b=[],c=[];for(var f in l.attrData)b.push(l.attrData[f]),c.push(u[f])}else var b=[10,10,20,10,15,10,5,5,15],c=["#229aef","#adb941","#cf424d","#6bc562","#9541b7","#00bdb4","#d56b48","#7362d6","#a4a4a4"];var m=null;""!=b&&(n(),l.onresize=function(){n()}),"juju"!=jujuClient&&window.innerWidth<765&&(i(".uattr h2").css("display","block"),i(".promotion-bar").css("display","block")),"juju"==jujuClient&&i.os.phone||i(".head,.share").css("display","block");var p=i(".promotion-bar .btn");s.client.weixin||s.client.weibo?p.attr("href",s.market.juju):i.os.android?p.attr("href",s.market.andorid):p.attr("href",s.market.ios);var v=i(".channel .btn").eq(0),j=i(".channel .btn").eq(1);v.attr("href",s.market.ios),j.attr("href",s.market.andorid)});