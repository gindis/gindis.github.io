define("module/preloader",[],function(t,o,e){"use strict";var n=function(t){if("function"!=typeof t)throw new Error("Invalid callback");this.cb=t,this.images=[]};n.prototype.add=function(t){this.images.push(t)},n.prototype.addRange=function(t){"object"==typeof t&&t.length&&(this.images=this.images.concat(t))},n.prototype.load=function(){for(var t=this.images.length,o=0,e=this.cb,n=function(){o++,e("progress",o/t),o>=t&&e("complete")},i=0;i<this.images.length;i++){var r=new Image;r.onload=function(){this.onload=null,n()},r.onerror=function(){this.onerror=null,e("error",this.src),n()},r.src=this.images[i]}};var i={create:function(t){return new n(t)}};e.exports=o=i});