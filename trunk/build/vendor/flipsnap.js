!function(t,e,n){function r(t,e){return this instanceof r?this.init(t,e):new r(t,e)}function o(t,e){return t.changedTouches?t.changedTouches[0][e]:t[e]}function i(t){return u(t,function(t){return d.style[t]!==n})}function a(t,e,r){var o=v[e];o?t[o]=r:t[e]!==n?(v[e]=e,t[e]=r):u(f,function(o){var i=c(o)+c(e);return t[i]!==n?(v[e]=i,t[i]=r,!0):void 0})}function s(t){if(d.style[t]!==n)return t;var e;return u(f,function(r){var o=c(r)+c(t);return d.style[o]!==n?(e="-"+r+"-"+t,!0):void 0}),e}function c(t){return t.charAt(0).toUpperCase()+t.substr(1)}function u(t,e){for(var n=0,r=t.length;r>n;n++)if(e(t[n],n))return!0;return!1}function m(t,e,n,r){var o=Math.abs(t-n),i=Math.abs(e-r),a=Math.sqrt(Math.pow(o,2)+Math.pow(i,2));return{x:o,y:i,z:a}}function p(t){var e=t.y/t.z,n=Math.acos(e);return 180/(Math.PI/n)}var d=e.createElement("div"),f=["webkit","moz","o","ms"],v={},l=r.support={},h=!1,P=5,y=55;l.transform3d=i(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),l.transform=i(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"]),l.transition=i(["transitionProperty","WebkitTransitionProperty","MozTransitionProperty","OTransitionProperty","msTransitionProperty"]),l.addEventListener="addEventListener"in t,l.mspointer=t.navigator.msPointerEnabled,l.cssAnimation=(l.transform3d||l.transform)&&l.transition;var _=["touch","mouse"],g={start:{touch:"touchstart",mouse:"mousedown"},move:{touch:"touchmove",mouse:"mousemove"},end:{touch:"touchend",mouse:"mouseup"}};l.addEventListener&&(e.addEventListener("gesturestart",function(){h=!0}),e.addEventListener("gestureend",function(){h=!1})),r.prototype.init=function(t,r){var o=this;if(o.element=t,"string"==typeof t&&(o.element=e.querySelector(t)),!o.element)throw new Error("element not found");return l.mspointer&&(o.element.style.msTouchAction="pan-y"),r=r||{},o.distance=r.distance,o.maxPoint=r.maxPoint,o.disableTouch=r.disableTouch===n?!1:r.disableTouch,o.disable3d=r.disable3d===n?!1:r.disable3d,o.transitionDuration=r.transitionDuration===n?"350ms":r.transitionDuration+"ms",o.currentPoint=0,o.currentX=0,o.animation=!1,o.use3d=l.transform3d,o.disable3d===!0&&(o.use3d=!1),l.cssAnimation?o._setStyle({transitionProperty:s("transform"),transitionTimingFunction:"cubic-bezier(0,0,0.25,1)",transitionDuration:"0ms",transform:o._getTranslate(0)}):o._setStyle({position:"relative",left:"0px"}),o.refresh(),_.forEach(function(t){o.element.addEventListener(g.start[t],o,!1)}),o},r.prototype.handleEvent=function(t){var e=this;switch(t.type){case g.start.touch:e._touchStart(t,"touch");break;case g.start.mouse:e._touchStart(t,"mouse");break;case g.move.touch:e._touchMove(t,"touch");break;case g.move.mouse:e._touchMove(t,"mouse");break;case g.end.touch:e._touchEnd(t,"touch");break;case g.end.mouse:e._touchEnd(t,"mouse");break;case"click":e._click(t)}},r.prototype.refresh=function(){var t=this;t._maxPoint=t.maxPoint===n?function(){for(var e,n=t.element.childNodes,r=-1,o=0,i=n.length;i>o;o++)e=n[o],1===e.nodeType&&r++;return r}():t.maxPoint,t.distance===n?t._maxPoint<0?t._distance=0:t._distance=t.element.scrollWidth/(t._maxPoint+1):t._distance=t.distance,t._maxX=-t._distance*t._maxPoint,t.moveToPoint()},r.prototype.hasNext=function(){var t=this;return t.currentPoint<t._maxPoint},r.prototype.hasPrev=function(){var t=this;return t.currentPoint>0},r.prototype.toNext=function(t){var e=this;e.hasNext()&&e.moveToPoint(e.currentPoint+1,t)},r.prototype.toPrev=function(t){var e=this;e.hasPrev()&&e.moveToPoint(e.currentPoint-1,t)},r.prototype.moveToPoint=function(t,e){var r=this;e=e===n?r.transitionDuration:e+"ms";var o=r.currentPoint;t===n&&(t=r.currentPoint),0>t?r.currentPoint=0:t>r._maxPoint?r.currentPoint=r._maxPoint:r.currentPoint=parseInt(t,10),l.cssAnimation?r._setStyle({transitionDuration:e}):r.animation=!0,r._setX(-r.currentPoint*r._distance,e),o!==r.currentPoint&&(r._triggerEvent("fsmoveend",!0,!1),r._triggerEvent("fspointmove",!0,!1))},r.prototype._setX=function(t,e){var n=this;n.currentX=t,l.cssAnimation?n.element.style[v.transform]=n._getTranslate(t):n.animation?n._animate(t,e||n.transitionDuration):n.element.style.left=t+"px"},r.prototype._touchStart=function(t,n){var r=this;if(!(r.disableTouch||r.scrolling||h)){r.element.addEventListener(g.move[n],r,!1),e.addEventListener(g.end[n],r,!1);var i=t.target.tagName;"mouse"===n&&"SELECT"!==i&&"INPUT"!==i&&"TEXTAREA"!==i&&"BUTTON"!==i&&t.preventDefault(),l.cssAnimation?r._setStyle({transitionDuration:"0ms"}):r.animation=!1,r.scrolling=!0,r.moveReady=!1,r.startPageX=o(t,"pageX"),r.startPageY=o(t,"pageY"),r.basePageX=r.startPageX,r.directionX=0,r.startTime=t.timeStamp,r._triggerEvent("fstouchstart",!0,!1)}},r.prototype._touchMove=function(t,e){var n=this;if(n.scrolling&&!h){var r,i,a=o(t,"pageX"),s=o(t,"pageY");if(n.moveReady){t.preventDefault(),r=a-n.basePageX,i=n.currentX+r,(i>=0||i<n._maxX)&&(i=Math.round(n.currentX+r/3)),n.directionX=0===r?n.directionX:r>0?-1:1;var c=!n._triggerEvent("fstouchmove",!0,!0,{delta:r,direction:n.directionX});c?n._touchAfter({moved:!1,originalPoint:n.currentPoint,newPoint:n.currentPoint,cancelled:!0}):n._setX(i)}else{var u=m(n.startPageX,n.startPageY,a,s);u.z>P&&(p(u)>y?(t.preventDefault(),n.moveReady=!0,n.element.addEventListener("click",n,!0)):n.scrolling=!1)}n.basePageX=a}},r.prototype._touchEnd=function(t,n){var r=this;if(r.element.removeEventListener(g.move[n],r,!1),e.removeEventListener(g.end[n],r,!1),r.scrolling){var o=-r.currentX/r._distance;o=r.directionX>0?Math.ceil(o):r.directionX<0?Math.floor(o):Math.round(o),0>o?o=0:o>r._maxPoint&&(o=r._maxPoint),r._touchAfter({moved:o!==r.currentPoint,originalPoint:r.currentPoint,newPoint:o,cancelled:!1}),r.moveToPoint(o)}},r.prototype._click=function(t){t.stopPropagation(),t.preventDefault()},r.prototype._touchAfter=function(t){var e=this;e.scrolling=!1,e.moveReady=!1,setTimeout(function(){e.element.removeEventListener("click",e,!0)},200),e._triggerEvent("fstouchend",!0,!1,t)},r.prototype._setStyle=function(t){var e=this,n=e.element.style;for(var r in t)a(n,r,t[r])},r.prototype._animate=function(t,e){var n=this,r=n.element,o=+new Date,i=parseInt(r.style.left,10),a=t,s=parseInt(e,10),c=function(t,e){return-(t/=e)*(t-2)},u=setInterval(function(){var t,e,n=new Date-o;n>s?(clearInterval(u),e=a):(t=c(n,s),e=t*(a-i)+i),r.style.left=e+"px"},10)},r.prototype.destroy=function(){var t=this;_.forEach(function(e){t.element.removeEventListener(g.start[e],t,!1)})},r.prototype._getTranslate=function(t){var e=this;return e.use3d?"translate3d("+t+"px, 0, 0)":"translate("+t+"px, 0)"},r.prototype._triggerEvent=function(t,n,r,o){var i=this,a=e.createEvent("Event");if(a.initEvent(t,n,r),o)for(var s in o)o.hasOwnProperty(s)&&(a[s]=o[s]);return i.element.dispatchEvent(a)},"object"==typeof exports?module.exports=r:"function"==typeof define&&define.amd?define(function(){return r}):t.Flipsnap=r}(window,window.document),"undefined"!=typeof exports&&module.exports?module.exports=exports=Flipsnap:"function"==typeof define&&define.cmd?define(function(t,e,n){n.exports=e=Flipsnap}):"function"==typeof define&&define.amd?define("Flipsnap",[],Flipsnap):this.Flipsnap=this.Flipsnap||Flipsnap;