define("people/index",["zepto","common/js/util","module/js/net","module/js/modal","./mods/a","./views/userinfo-render","./views/dynamic-render","./views/follow-render","module/js/fastclick"],function(e,o,n){"use strict";function t(){this.init.apply(this,arguments)}var i=e("zepto"),s=e("common/js/util"),a=e("module/js/net"),r=e("module/js/modal"),d=(e("./mods/a"),e("./views/userinfo-render")),u=e("./views/dynamic-render"),l=e("./views/follow-render"),c=e("module/js/fastclick");c(document.body);var p=new a,f=new Object;f=s.getRequest(!1),_GLOBAL_CONFIG_.uid||(_GLOBAL_CONFIG_.uid=f.uid);var m="click";(i.os.android||i.os.ios)&&(m="tap"),t.prototype={init:function(){var e=this;e.loadData(),e.bindEvent()},loadData:function(e){var o=this;o.getUseinfo(),o.userDynamic(),o.userRepost(),o.userFollowBrand(),s.initDownload()},userDynamic:function(){p.ajax("userDynamic",{id:_GLOBAL_CONFIG_.uid},function(e){e.ptype="userDynamic",i(u(e)).appendTo(".J_tabBody_1")})},userRepost:function(){p.ajax("userRepost",{id:_GLOBAL_CONFIG_.uid},function(e){e.ptype="userRepost",i(u(e)).appendTo(".J_tabBody_2")})},userFollowBrand:function(){p.ajax("userFollowBrand",{id:_GLOBAL_CONFIG_.uid},function(e){i(l(e)).appendTo(".J_tabBody_3")})},getUseinfo:function(){var e=this;p.ajax("userInfo",{id:_GLOBAL_CONFIG_.uid},function(o){i(d(o)).appendTo(".J_userinfo"),document.title=i(".name").text()+"的个人主页",e.selCheck()})},goReg:function(){new r({content:"需要注册才能执行该操作",button:[{title:"取消"},{title:"注册"}],callback:function(e,o){1==o&&(location.href="./reg.html")}})},selCheck:function(){var e=location.href,o=i(".tab-nav .item");console.log(e.match("people-follow")),e.match("people-follow")?(o.removeClass("current"),o.eq(2).addClass("current")):e.match("people-repost")&&(o.removeClass("current"),o.eq(1).addClass("current"))},bindEvent:function(){var e=this;i(".J_reg").live(m,function(){e.goReg()});var o=i(".J_tabNav .item");o.on(m,function(){var e=i(this),n=i(".tab-body"),t=e.index();o.removeClass("current"),n.css("display","none"),e.addClass("current"),n.eq(t).css("display","block")})}},n.exports=t});