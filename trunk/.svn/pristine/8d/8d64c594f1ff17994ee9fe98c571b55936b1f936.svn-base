define("people/index",["zepto","common/js/util","module/js/net","module/js/modal","./views/userinfo-render","./views/dynamic-render","./views/follow-render","module/js/fastclick"],function(e,n,o){"use strict";function t(){this.init.apply(this,arguments)}var i=e("zepto"),s=e("common/js/util"),a=e("module/js/net"),r=e("module/js/modal"),u=e("./views/userinfo-render"),d=e("./views/dynamic-render"),l=e("./views/follow-render"),c=e("module/js/fastclick");c(document.body);var p=new a,f=new Object;f=s.getRequest(!1),_GLOBAL_CONFIG_.uid||(_GLOBAL_CONFIG_.uid=f.uid);var m="click";(i.os.android||i.os.ios)&&(m="tap"),t.prototype={init:function(){var e=this;e.loadData(),e.bindEvent()},loadData:function(e){var n=this;n.getUseinfo(),n.userDynamic(),n.userRepost(),n.userFollowBrand(),s.initDownload()},userDynamic:function(){p.ajax("userDynamic",{id:_GLOBAL_CONFIG_.uid},function(e){e.ptype="userDynamic",i(d(e)).appendTo(".J_tabBody_1")})},userRepost:function(){p.ajax("userRepost",{id:_GLOBAL_CONFIG_.uid},function(e){e.ptype="userRepost",i(d(e)).appendTo(".J_tabBody_2")})},userFollowBrand:function(){p.ajax("userFollowBrand",{id:_GLOBAL_CONFIG_.uid},function(e){i(l(e)).appendTo(".J_tabBody_3")})},getUseinfo:function(){var e=this;p.ajax("userInfo",{id:_GLOBAL_CONFIG_.uid},function(n){i(u(n)).appendTo(".J_userinfo"),document.title=i(".name").text()+"的个人主页",e.selCheck()})},goReg:function(){new r({content:"需要注册才能执行该操作",button:[{title:"取消"},{title:"注册"}],callback:function(e,n){1==n&&(location.href="./reg.html")}})},selCheck:function(){var e=location.href,n=i(".tab-nav .item");console.log(e.match("people-follow")),e.match("people-follow")?(n.removeClass("current"),n.eq(2).addClass("current")):e.match("people-repost")&&(n.removeClass("current"),n.eq(1).addClass("current"))},bindEvent:function(){var e=this;i(".J_reg").live(m,function(){e.goReg()});var n=i(".J_tabNav .item");n.on(m,function(){var e=i(this),o=i(".tab-body"),t=e.index();n.removeClass("current"),o.css("display","none"),e.addClass("current"),o.eq(t).css("display","block")})}},o.exports=t});