define("module/js/net",["zepto","common/js/util","module/js/modal"],function(o,t,e){"use strict";function i(o){"object"==typeof o?this.option=o:this.option={type:"GET",dataType:"jsonp"}}var n,d,a=o("zepto"),s=o("common/js/util"),c=o("module/js/modal"),m="online";n=new Object,n=s.getRequest(!1),d=n.accessToken;var l={goodsDetail:"product/getDetail.do",similarGoods:"product/findListProd.do",recPost:"dynamic/findListByProdLike.do",postChart:"dynamic/common/findListByHot.do",userHot:"user/common/findListByHot.do",macthGoods:"dynamic/getDetail.do",hotPost:"dynamic/findListByOther.do",userInfo:"user/common/getUser.do",userDynamic:"dynamic/common/findListByUser.do",userRepost:"dynamic/forword/common/findListByUser.do",userFollowBrand:"brand/common/findList.do",topicList:"v1_5/subject/common/findList.do",topicDetail:"v1_7/subject/common/getDetail.do",topicDynamicList:"v1_5/subject/common/findDynamicList.do",topicProductList:"v1_5/subject/common/findProductList.do",magazineDetail:"v1_7/magazine/common/getDetail.do",newListByTag:"v1_7/match/common/findNewListByTag.do",magazineItemList:"v1_7/magazine/common/findMagazineItemList.do",addFollow:"v1_5/follow/addFollow.do",delFollow:"v1_5/follow/delFollow.do",addAttention:"user/addAttention.do",praise:"dynamic/praise.do",cancelPraise:"dynamic/cancelPraise.do",getAuthCode:"common/getAuthCode.do",reg:"register.do",log:"login.do"};location.host.match("xiami.|gindis.")&&(m="daily");var r={daily:"http://test.nothing.la/nothing/{{method}}",online:"/nothing/{{method}}"},u=r[m];i.prototype={ajax:function(o,t,e,i){o=l[o],"function"==typeof t&&(i=e,e=t,t=null),t=a.extend({v:"1.0.0"},t);var n=u.replace(/{{method}}/g,o);d&&(n=n+"?accessToken="+d),a.ajax({type:"POST",url:n,data:JSON.stringify(t),dataType:"json",contentType:"application/json",success:function(o){"1"==o.STATUS?(o.DATA||(o.DATA=o),e&&e(o.DATA)):new c({title:"提示",content:o.MESSAGE,button:[{title:"确定"}],callback:function(o,t){}})},error:function(o,t){i&&i(t)}})}},e.exports=i});