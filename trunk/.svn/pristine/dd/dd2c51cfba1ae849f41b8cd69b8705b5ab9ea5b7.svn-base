define("reg/index",["zepto","common/js/util","module/js/net","module/js/tips"],function(t,e,n){"use strict";function o(){this.Timer=null,this.t=null,this.init.apply(this,arguments)}var i=t("zepto"),a=t("common/js/util"),l=t("module/js/net"),s=t("module/js/tips"),r=new l,h="click";(i.os.ios||i.os.anroid)&&(h="tap"),o.prototype={init:function(){var t=this;t.bindEvent(),a.initDownload()},clearIpt:function(){i(".J_clearIpt").on(h,function(){var t=i(this).prev();t.val(""),i(this).hide()});var t=i("input");t.on("keydown",function(){var t=i(this);t.val().length>0?t.next().show():t.next().hide()}),t.on("keyup",function(){var t=i(this);0==t.val().length?t.next().hide():t.next().show()})},reg:function(t){r.ajax("reg",{phone:t.phone,password:t.password,authCode:t.authCode},function(t){location.href="download.html"})},getAuthCode:function(t,e){var n=this;if(""!=i(".J_phone").val())t.hasClass("disabled")||(t.addClass("disabled"),t.html("<span>60</span>s后重新发送"),n.t=60,n.Timer=setInterval(function(){n.timer(t)},1e3),r.ajax("getAuthCode",{phone:e.phone,type:e.type},function(t){console.log(t)},function(){return clearInterval(n.Timer),n.t=0,t.removeClass("disabled"),t.html("获取验证码"),!1}));else{new s({content:"手机号码不为空",stayTime:2e3,type:"info"})}},third:function(){},loadData:function(t){console.log(hello({name:"world"}))},timer:function(t){var e=this;e.t<=1?(clearInterval(e.Timer),1==e.t&&(e.t=0,t.removeClass("disabled"),t.html("获取验证码"))):e.t--,t.find("span").html(e.t)},bindEvent:function(){var t=this;t.clearIpt(),i(".J_getAuthCode").on(h,function(){var e=i(this),n={phone:i(".J_phone").val(),type:e.attr("data-type")};t.getAuthCode(e,n)}),i(".J_reg").on(h,function(){var e=i(".J_phone").val(),n=i(".J_pwd").val(),o=i(".J_code").val();if(""!=e&&""!=n&&""!=o){var a={phone:e,password:n,authCode:o};t.reg(a)}else{var l="密码不为空";""==o&&(l="验证码不为空"),""==e&&(l="手机号码不为空"),console.log("code"+o),console.log("Jphone"+e),console.log("Jpwd"+n);new s({content:l,stayTime:2e3,type:"info"})}})}},n.exports=o});