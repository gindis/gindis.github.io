define("module/js/net",["zepto","common/js/util","module/js/modal"],function(o,t,n){"use strict";function i(o){"object"==typeof o?this.option=o:this.option={type:"GET",dataType:"jsonp"}}var e=o("zepto"),d=(o("common/js/util"),o("module/js/modal")),s="online",c={goodsDetail:"product/getDetail.do",similarGoods:"product/findListProd.do",recPost:"dynamic/findListByProdLike.do",postChart:"dynamic/common/findListByHot.do",userHot:"user/common/findListByHot.do",macthGoods:"dynamic/getDetail.do",hotPost:"dynamic/findListByOther.do",userInfo:"user/common/getUser.do",userDynamic:"dynamic/common/findListByUser.do",userRepost:"dynamic/forword/common/findListByUser.do",userFollowBrand:"brand/common/findList.do",topicList:"v1_5/subject/common/findList.do",topicDetail:"v1_5/subject/common/getDetail.do",getAuthCode:"common/getAuthCode.do",reg:"register.do",log:"login.do"};location.host.match("xiami.|gindis.")&&(s="daily");var a={daily:"http://115.159.91.200:8080/nothing/{{method}}",online:"/nothing/{{method}}"},m=a[s];i.prototype={ajax:function(o,t,n,i){o=c[o],"function"==typeof t&&(i=n,n=t,t=null),t=e.extend({v:"1.0.0"},t),e.ajax({type:"POST",url:m.replace(/{{method}}/g,o),data:JSON.stringify(t),dataType:"json",contentType:"application/json",success:function(o){"1"==o.STATUS?(o.DATA||(o.DATA=1),n&&n(o.DATA)):new d({title:"提示",content:o.MESSAGE,button:[{title:"确定"}],callback:function(o,t){}})},error:function(o,t){i&&i(t)}})}},n.exports=i});