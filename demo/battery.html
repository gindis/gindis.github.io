<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title></title>
</head>
<body>
  <div id="battery"></div>
  <canvas id="canvas"></canvas>
  <script>
  ~ function () {
    // 设置事件监听器  
    window.addEventListener("DOMContentLoaded", function() {  
      // 获取元素  
      var canvas = document.getElementById("canvas"),  
        context = canvas.getContext("2d"),  
        video = document.getElementById("video"),  
        videoObj = { "video": true },  
        errBack = function(error) {  
          console.log("Video capture error: ", error.code);   
        };  
      
      // 设置video监听器  
      if(navigator.getUserMedia) { // Standard  
        navigator.getUserMedia(videoObj, function(stream) {  
          video.src = stream;  
          video.play();  
        }, errBack);  
      } else if(navigator.webkitGetUserMedia) { // WebKit-prefixed  
        navigator.webkitGetUserMedia(videoObj, function(stream){  
          video.src = window.webkitURL.createObjectURL(stream);  
          video.play();  
        }, errBack);  
      }  
    }, false);
  }()
  </script>
</body>
</html>